<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>关于晚霞</title>
      <link href="2020/10/25/guan-yu-wan-xia/"/>
      <url>2020/10/25/guan-yu-wan-xia/</url>
      
        <content type="html"><![CDATA[<p>“有些东西和消逝了的岁月一样，只一度为你所有，它们既然已经离开了你，就永远不在返回”</p><p><img src="/images/pasted-53.png"><br>“有的人喝了酒，眼睛闪闪的讲浪漫和爱，而有的人喝了酒，满眼的泪水和心酸，要快乐，祝你也祝我”</p><p><img src="/images/pasted-54.png"></p><p>“至少 今天是星期五”</p><p><img src="/images/pasted-55.png"></p><p>上课时老师写了一句话： “我用真心待你，但不执着与你，活在缘分中，而非关系里”全班人都沉默了</p><p><img src="/images/pasted-56.png"></p>]]></content>
      
      
      <categories>
          
          <category> 文案 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 晚霞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>android小案例</title>
      <link href="2020/10/21/android-xiang-mu-an-li/"/>
      <url>2020/10/21/android-xiang-mu-an-li/</url>
      
        <content type="html"><![CDATA[<h1 id="Android小案例"><a href="#Android小案例" class="headerlink" title="Android小案例"></a>Android小案例</h1><h2 id="自定义对话框"><a href="#自定义对话框" class="headerlink" title="自定义对话框"></a>自定义对话框</h2><p>activity_main.xml中定义按钮，点击弹出对话框</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn_dialog<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>弹出自定义对话框<span class="token punctuation">"</span></span>       <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span></code></pre><p>创建对话框界面custom_dialog.xml,有标题，文本和两按钮，具体项目具体设计</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>paddingTop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/title<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>visibility</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>visible<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#333333<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>18sp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_marginBottom</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/message<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_marginLeft</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_marginRight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#999999<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>14sp<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2px<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#E8E8E8<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>                <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/negtive<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_marginLeft</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10dp<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>paddingTop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>paddingBottom</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@null<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>singleLine</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#999999<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16sp<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span>                <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/column_line<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2px<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#E8E8E8<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>                <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/positive<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>layout_marginRight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10dp<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>paddingTop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@null<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#38ADFF<span class="token punctuation">"</span></span>                <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16sp<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span></code></pre><p>创建CommonDialog类继承自AlertDialog,用于初始化自定义对话框中的控件和按钮</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>wuyugege<span class="token punctuation">.</span>customdialog<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>AlertDialog<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>Context<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>text<span class="token punctuation">.</span>TextUtils<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>view<span class="token punctuation">.</span>View<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>Button<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>TextView<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CommonDialog</span> <span class="token keyword">extends</span> <span class="token class-name">AlertDialog</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> TextView titleTv <span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//显示的标题</span>    <span class="token keyword">private</span> TextView messageTv<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//显示的消息</span>    <span class="token keyword">private</span> Button negtiveBn <span class="token punctuation">,</span> positiveBn<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">CommonDialog</span><span class="token punctuation">(</span>Context context<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> String message<span class="token punctuation">;</span>    <span class="token keyword">private</span> String title<span class="token punctuation">;</span>    <span class="token keyword">private</span> String negtive<span class="token punctuation">,</span>positive<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>custom_dialog<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">initView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//初始化界面控件</span>        <span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//初始化界面控件点击事件</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">initView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        negtiveBn <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>negtive<span class="token punctuation">)</span><span class="token punctuation">;</span>        positiveBn <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>positive<span class="token punctuation">)</span><span class="token punctuation">;</span>        titleTv <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>        messageTv <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">refreshView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//如果自定义了title和message的信息，则会在弹出框中显示</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            titleTv<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//设置标题</span>            titleTv<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>VISIBLE<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//标题控件设置为显示状态</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>            titleTv<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span>GONE<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//不为空，标题控件设置为隐藏状态</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//文本</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            messageTv<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//按钮</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>positive<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            positiveBn<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>positive<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>            positiveBn<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"确定"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>TextUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>negtive<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            negtiveBn<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>negtive<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>            negtiveBn<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"取消"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//初始化界面的确定和取消监听器</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>      positiveBn<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token annotation punctuation">@Override</span>          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>View v<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>onClickBottomListener  <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>                  onClickBottomListener<span class="token punctuation">.</span><span class="token function">onPositiveClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span>          <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      negtiveBn<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>          <span class="token annotation punctuation">@Override</span>          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>View v<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>onClickBottomListener  <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>                  onClickBottomListener<span class="token punctuation">.</span><span class="token function">onNegtiveClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span>          <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">refreshView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OnClickBottomListener</span><span class="token punctuation">{</span>        <span class="token keyword">void</span> <span class="token function">onPositiveClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">void</span> <span class="token function">onNegtiveClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//设置“确定”和“取消”的回调</span>    <span class="token keyword">public</span> OnClickBottomListener onClickBottomListener<span class="token punctuation">;</span>    <span class="token keyword">public</span> CommonDialog <span class="token function">setOnClickBottomListener</span><span class="token punctuation">(</span>OnClickBottomListener onClickBottomListener<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>onClickBottomListener <span class="token operator">=</span> onClickBottomListener<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> CommonDialog <span class="token function">setMaessage</span><span class="token punctuation">(</span>String maessage<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> maessage<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> CommonDialog <span class="token function">setTitle</span><span class="token punctuation">(</span>String title<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> CommonDialog <span class="token function">setPositive</span><span class="token punctuation">(</span>String positive<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>positive <span class="token operator">=</span> positive<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> CommonDialog <span class="token function">setNegtive</span><span class="token punctuation">(</span>String negtive<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>negtive <span class="token operator">=</span> negtive<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>最后在MainActivity中调用</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>wuyugege<span class="token punctuation">.</span>customdialog<span class="token punctuation">;</span><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span>AppCompatActivity<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>view<span class="token punctuation">.</span>View<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>Button<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>           <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        Button button <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_dialog<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//绑定点击按钮</span>        button<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">//设置点击事件</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>View v<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">final</span> CommonDialog dialog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CommonDialog</span><span class="token punctuation">(</span>MainActivity<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//调用对话框，并赋值</span>                dialog<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"提示"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                dialog<span class="token punctuation">.</span><span class="token function">setMaessage</span><span class="token punctuation">(</span><span class="token string">"自定义对话框"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                dialog<span class="token punctuation">.</span><span class="token function">setPositive</span><span class="token punctuation">(</span><span class="token string">"确定"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                dialog<span class="token punctuation">.</span><span class="token function">setNegtive</span><span class="token punctuation">(</span><span class="token string">"取消"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                dialog<span class="token punctuation">.</span><span class="token function">setOnClickBottomListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CommonDialog<span class="token punctuation">.</span>OnClickBottomListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token annotation punctuation">@Override</span>                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPositiveClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        dialog<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token annotation punctuation">@Override</span>                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNegtiveClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        dialog<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                dialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><img src="/images/pasted-51.png"></p><p>案例类似于普通对话框，区别在于如果是普通对话框点击事件调的是封装号的方法，而自定义需要外面自己写对话框类。</p><h2 id="拨号器"><a href="#拨号器" class="headerlink" title="拨号器"></a>拨号器</h2><p>activity_main.xml中定义所有按钮和界面</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>app</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/tools<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">tools:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.MainActivity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/edit<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_margin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5dp<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>34sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TextView</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn2<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn3<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn4<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn5<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn6<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>  <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn7<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn8<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn9<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>9<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btnStar<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btn0<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btnWell<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btnDial<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>DIAL<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/btnCall<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#00000000<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnNum<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CALL<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>28sp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span></code></pre><p>MainActivity中写逻辑代码</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>wuyugege<span class="token punctuation">.</span>phonedialer<span class="token punctuation">;</span><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span>AlertDialog<span class="token punctuation">;</span><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span>AppCompatActivity<span class="token punctuation">;</span><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>app<span class="token punctuation">.</span>ActivityCompat<span class="token punctuation">;</span><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>content<span class="token punctuation">.</span>ContextCompat<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>Manifest<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>DialogInterface<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>Intent<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>pm<span class="token punctuation">.</span>PackageManager<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>net<span class="token punctuation">.</span>Uri<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Build<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>view<span class="token punctuation">.</span>View<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>TextView<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> TextView mTextView<span class="token punctuation">;</span>    <span class="token keyword">private</span> StringBuilder stringBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>        mTextView <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>edit<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/**     * 重写onBackPressed()来监听回退键     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBackPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//申明对象</span>        AlertDialog dialog<span class="token punctuation">;</span>        AlertDialog<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"普通对话框"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>mipmap<span class="token punctuation">.</span>ic_launcher<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">"是否确定退出应用："</span><span class="token punctuation">)</span>                <span class="token comment" spellcheck="true">//添加"确定"按钮</span>                <span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span><span class="token string">"确定"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DialogInterface<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token annotation punctuation">@Override</span>                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>DialogInterface dialog<span class="token punctuation">,</span> <span class="token keyword">int</span> which<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        dialog<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//关闭对话框</span>                        MainActivity<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//关闭MainActivity</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span>                <span class="token comment" spellcheck="true">//添加"取消"按钮</span>                <span class="token punctuation">.</span><span class="token function">setNegativeButton</span><span class="token punctuation">(</span><span class="token string">"取消"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DialogInterface<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token annotation punctuation">@Override</span>                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>DialogInterface dialog<span class="token punctuation">,</span> <span class="token keyword">int</span> which<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        dialog<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dialog <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/**     * 拨号按键     * @param view     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">btnNum</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn0<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn1<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn2<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn3<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn4<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn5<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn6<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn7<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn8<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn9<span class="token operator">:</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btnDial<span class="token operator">:</span>                Intent intentDial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_DIAL<span class="token punctuation">)</span><span class="token punctuation">;</span>                Uri uri <span class="token operator">=</span> Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"tel:"</span><span class="token operator">+</span>stringBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                intentDial<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>stringBuilder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">startActivity</span><span class="token punctuation">(</span>intentDial<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btnCall<span class="token operator">:</span>                Intent intentCall <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_CALL<span class="token punctuation">)</span><span class="token punctuation">;</span>                Uri uriCall <span class="token operator">=</span> Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"tel:"</span><span class="token operator">+</span>stringBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                intentCall<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>uriCall<span class="token punctuation">)</span><span class="token punctuation">;</span>                stringBuilder<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>stringBuilder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                mTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">startActivity</span><span class="token punctuation">(</span>intentCall<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//android 6.0以上需要自己获取版本</span><span class="token comment" spellcheck="true">//                if (Build.VERSION.SDK_INT >= 23){</span><span class="token comment" spellcheck="true">//                    int checkCallPhonePermission = ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE);</span><span class="token comment" spellcheck="true">//                    if (checkCallPhonePermission != PackageManager.PERMISSION_GRANTED) {</span><span class="token comment" spellcheck="true">//                        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CALL_PHONE}, 1);</span><span class="token comment" spellcheck="true">//                        return;</span><span class="token comment" spellcheck="true">//                    }else {</span><span class="token comment" spellcheck="true">//                        startActivity(intentCall);</span><span class="token comment" spellcheck="true">//                    }</span><span class="token comment" spellcheck="true">//                }else {</span><span class="token comment" spellcheck="true">//                    startActivity(intentCall);</span><span class="token comment" spellcheck="true">//                }</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>最后在AndroidManifest中加入权限</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>    <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.wuyugege.phonedialer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.permission.CALL.PHONE<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>        <span class="token attr-name"><span class="token namespace">android:</span>allowBackup</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@mipmap/ic_launcher<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/app_name<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>roundIcon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@mipmap/ic_launcher_round<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>supportsRtl</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@style/AppTheme<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.MainActivity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.intent.action.MAIN<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.intent.category.LAUNCHER<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">></span></span></code></pre><p><img src="/images/pasted-52.png"></p><h2 id="滚动列表"><a href="#滚动列表" class="headerlink" title="滚动列表"></a>滚动列表</h2><p><img src="/images/pasted-58.png"><br>先将要展示商品的图片准备好，在res中创建放图片的文件夹drawable-hdpi</p><p><img src="/images/pasted-59.png"></p><p>添加recyclerview库，在build.gradle文件中添加</p><p><code>implementation 'com.android.support:recyclerview-v7:25.0.0.0'</code></p><p>注意：后面的版本号，要在你的SDK中recyclerview文件夹中要有，不然会报红</p><p>在activity_main.xml中添加RecyclerView控件</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>androidx.recyclerview.widget.RecyclerView</span>    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/my_recycler_view<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></code></pre><p>这里如果用&lt;android.support.v7.widget.RecyclerView&gt;，可能会导致闪退（原因是高版本的android已经将项目升级到了androidx了，下图是如何将旧项目升级为androidx）</p><p><img src="/images/pasted-60.png"><br>创建一个列表界面recycler_item.xml</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>match_parent<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16dp<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageView</span>        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/iv<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>120dp<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>90dp<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@drawable/xiaogou<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginLeft</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10dp<span class="token punctuation">"</span></span>        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5dp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/name<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20sp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#FF8F03<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>小狗<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>            <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/introduce<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap_content<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>16sp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>10dp<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>layout_below</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@+id/name<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#FF716C6D<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>maxLines</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>ellipsize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>end<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>小狗，人类最忠实的朋友<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RelativeLayout</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">></span></span></code></pre><p>最终编写界面交互代码MainActivity.java</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>wuyugege<span class="token punctuation">.</span>recyclerview<span class="token punctuation">;</span><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span>AppCompatActivity<span class="token punctuation">;</span><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>recyclerview<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>LinearLayoutManager<span class="token punctuation">;</span><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>recyclerview<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>RecyclerView<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>view<span class="token punctuation">.</span>LayoutInflater<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>view<span class="token punctuation">.</span>View<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>view<span class="token punctuation">.</span>ViewGroup<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>ImageView<span class="token punctuation">;</span><span class="token keyword">import</span> android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>TextView<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> RecyclerView myRecyclerView<span class="token punctuation">;</span>    <span class="token keyword">private</span> HomeAdapter homeAdapter<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/**     * 3个数组分别储存物品的名称，图片，简介     */</span>    <span class="token keyword">private</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> names <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"小狗"</span><span class="token punctuation">,</span> <span class="token string">"小猫"</span><span class="token punctuation">,</span> <span class="token string">"小兔子"</span><span class="token punctuation">,</span> <span class="token string">"小羊"</span><span class="token punctuation">,</span> <span class="token string">"小鸭子"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> icons <span class="token operator">=</span> <span class="token punctuation">{</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>xiaogou<span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>xiaomao<span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>xiaotuzi<span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>xiaoyang<span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>xiaoyazi<span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> introduces <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">"狗（拉丁文Canis lupus familiaris）属于脊索动物门、脊椎动物亚门、哺乳纲、真兽亚纲、食肉目、裂脚亚目、犬科动物。中文亦称“犬”，狗分布于世界各地。狗与马、牛、羊、猪、鸡并称“六畜”。有科学家认为狗是由早期人类从灰狼驯化而来，驯养时间在4万年前~1.5万年前。被称为“人类最忠实的朋友”，是饲养率最高的宠物，其寿命大约在12~18年 [1]  。在中国文化中，狗属于十二生肖之一，在十二生肖中的第11位。 [2] "</span><span class="token punctuation">,</span>            <span class="token string">"猫，属于猫科动物，分家猫、野猫，是全世界家庭中较为广泛的宠物。家猫的祖先据推测是起源于古埃及的沙漠猫，波斯的波斯猫，已经被人类驯化了3500年（但未像狗一样完全地被驯化）。"</span><span class="token punctuation">,</span>            <span class="token string">"兔（Rabbit）是哺乳类兔形目兔科下属所有的属的总称。俗称兔子。生物学分类动物界脊索动物门 脊椎动物亚门 哺乳纲 兔形目。"</span><span class="token punctuation">,</span>            <span class="token string">"羊是羊亚科的统称，哺乳纲、偶蹄目、牛科、羊亚科，是人类的家畜之一。有毛的四腿反刍动物，是羊毛的主要来源。毛色主要是白色。我国主要饲养山羊和绵羊。"</span><span class="token punctuation">,</span>            <span class="token string">"鸭是雁形目鸭科（Anatidae）鸭亚科（Anatinae）水禽的统称，或称真鸭。鸭的体型相对较小，颈短，一些属的嘴要大些。腿位于身体后方（如同天鹅一样），因而步态蹒跚。大多数真鸭（包括由于个体大小和体形原因而被不正确地称为雁的几种鸟）与天鹅、雁不同，具有下列特征：雄鸟每年换羽两次，雌鸟每窝产卵数亦较多，卵壳光滑；腿上覆盖著相搭的鳞片；叫声则显示出某种程度的性别差异。"</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>        myRecyclerView <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>my_recycler_view<span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment" spellcheck="true">//获取到控件</span>        myRecyclerView<span class="token punctuation">.</span><span class="token function">setLayoutManager</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinearLayoutManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment" spellcheck="true">//在通过setLayoutManager()方法设置线性垂直效果</span>        homeAdapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HomeAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                            myRecyclerView<span class="token punctuation">.</span><span class="token function">setAdapter</span><span class="token punctuation">(</span>homeAdapter<span class="token punctuation">)</span><span class="token punctuation">;</span>                                             <span class="token comment" spellcheck="true">//将数据适配器（处理好的数据）设置到控件上</span>    <span class="token punctuation">}</span>    <span class="token keyword">class</span> <span class="token class-name">HomeAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>Adapter</span><span class="token operator">&lt;</span>HomeAdapter<span class="token punctuation">.</span>MyViewHolder<span class="token operator">></span> <span class="token punctuation">{</span>              <span class="token comment" spellcheck="true">//数据适配器</span>        <span class="token comment" spellcheck="true">/**         * 加载列表界面的布局文件         * @param parent         * @param viewType         * @return         */</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> MyViewHolder <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span>ViewGroup parent<span class="token punctuation">,</span> <span class="token keyword">int</span> viewType<span class="token punctuation">)</span> <span class="token punctuation">{</span>            MyViewHolder holder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyViewHolder</span><span class="token punctuation">(</span>LayoutInflater<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>MainActivity<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>recycler_item<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> holder<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/**         * 获取对应的数据放到对应的控件上         * @param holder         * @param position         */</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span> MyViewHolder holder<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>            holder<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>names<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            holder<span class="token punctuation">.</span>iv<span class="token punctuation">.</span><span class="token function">setImageResource</span><span class="token punctuation">(</span>icons<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            holder<span class="token punctuation">.</span>introduce<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>introduces<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/**         * 获取列表的总条数         * @return         */</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> names<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/**         * 该类作为单独的一个列表，用于获取Item的控件         */</span>        <span class="token keyword">class</span> <span class="token class-name">MyViewHolder</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>ViewHolder</span> <span class="token punctuation">{</span>            TextView name<span class="token punctuation">;</span>            ImageView iv<span class="token punctuation">;</span>            TextView introduce<span class="token punctuation">;</span>            <span class="token keyword">public</span> <span class="token function">MyViewHolder</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">super</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span>                name <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>                iv <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>iv<span class="token punctuation">)</span><span class="token punctuation">;</span>                introduce <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>introduce<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>页面跳转</p><p><img src="/images/pasted-61.png"><br>1、创建第二个Activity，用Intent接收主Avtivity传过来的数据</p><pre><code>package com.wuyugege.pagejump;import androidx.appcompat.app.AppCompatActivity;import android.content.Intent;import android.os.Bundle;import android.widget.TextView;public class SecondActivity extends AppCompatActivity {    private TextView hobbys;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_second);        Intent intent = getIntent();    //接收intent        String hobby = intent.getStringExtra("hobby");        hobbys =  findViewById(R.id.hobbyview);        hobbys.setText(hobby);    }}</code></pre><p>清单文件中有</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.SecondActivity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">></span></span></code></pre><p>主布局文件mainLayout</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    xmlns:app="http://schemas.android.com/apk/res-auto"    xmlns:tools="http://schemas.android.com/tools"    android:layout_width="match_parent"    android:layout_height="match_parent"    tools:context=".MainActivity"    android:orientation="vertical"&gt;    &lt;TextView        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textSize="18sp"        android:text="请选择兴趣爱好："        android:autoSizeMaxTextSize="18sp"/&gt;    &lt;CheckBox        android:id="@+id/likeshuttlecock"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="羽毛球"        android:textSize="18sp"/&gt;    &lt;CheckBox        android:id="@+id/likebasketball"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="篮球"        android:textSize="18sp"/&gt;    &lt;CheckBox        android:id="@+id/likepingpong"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="乒乓球"        android:textSize="18sp"/&gt;    &lt;Button        android:id="@+id/btn"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="提交"        tools:layout_editor_absoluteX="157dp"        tools:layout_editor_absoluteY="282dp" /&gt;&lt;/LinearLayout&gt;</code></pre><p>第二个布局文件</p><pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    xmlns:app="http://schemas.android.com/apk/res-auto"    xmlns:tools="http://schemas.android.com/tools"    android:layout_width="match_parent"    android:layout_height="match_parent"    tools:context=".SecondActivity"&gt;    &lt;TextView        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="你选择的爱好是："/&gt;    &lt;TextView        android:id="@+id/hobbyview"        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textSize="18sp"/&gt;&lt;/LinearLayout&gt;</code></pre><p>主页面</p><pre><code>package com.wuyugege.pagejump;import androidx.appcompat.app.AppCompatActivity;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.CheckBox;import android.widget.CompoundButton;import android.widget.TextView;public class MainActivity extends AppCompatActivity implements CompoundButton.OnCheckedChangeListener{    private Button button;    private String hobbys = new String();    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        //初始化控件        CheckBox shuttlecock = findViewById(R.id.likeshuttlecock);        CheckBox basketball = findViewById(R.id.likebasketball);        CheckBox pingpong = findViewById(R.id.likepingpong);        button = findViewById(R.id.btn);        //接口实现点击事件        shuttlecock.setOnCheckedChangeListener(this);        basketball.setOnCheckedChangeListener(this);        pingpong.setOnCheckedChangeListener(this);        /**         * 点击跳转         */        button.setOnClickListener(new View.OnClickListener(){            @Override            public void onClick(View v) {                Intent intent = new Intent(MainActivity.this,SecondActivity.class);   //点击后跳转页面                intent.putExtra("hobby",hobbys);      //将数据放入intent                startActivity(intent);            }        });    }    public void onCheckedChanged(CompoundButton buttonView,boolean isChecked){        String motion =  buttonView.getText().toString();        if (isChecked){            if (!hobbys.contains(motion)){                hobbys = hobbys + motion;            }        }else {            if (hobbys.contains(motion)){                hobbys = hobbys.replace(motion," ");            }        }    }}</code></pre>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>android基础</title>
      <link href="2020/10/19/android-ji-chu/"/>
      <url>2020/10/19/android-ji-chu/</url>
      
        <content type="html"><![CDATA[<h1 id="andriod基础"><a href="#andriod基础" class="headerlink" title="andriod基础"></a>andriod基础</h1><h2 id="一、android-studio安装教程"><a href="#一、android-studio安装教程" class="headerlink" title="一、android studio安装教程"></a>一、android studio安装教程</h2><blockquote><p><a href="https://blog.csdn.net/y74364/article/details/96121530">https://blog.csdn.net/y74364/article/details/96121530</a></p></blockquote><h2 id="二、hello-world"><a href="#二、hello-world" class="headerlink" title="二、hello world"></a>二、hello world</h2><h3 id="1、Android程序结构"><a href="#1、Android程序结构" class="headerlink" title="1、Android程序结构"></a>1、Android程序结构</h3><p><img src="/images/pasted-45.png"></p><h4 id="1、app-用于存放程序的代码和资源内容"><a href="#1、app-用于存放程序的代码和资源内容" class="headerlink" title="1、app:用于存放程序的代码和资源内容"></a>1、app:用于存放程序的代码和资源内容</h4><ul><li><p>manifests<br>用于存放AndroidManifest xml文件(又称清单文件).该文件是整个项目的配置文件。在程序中定义的四大组件都需要在这个文件中注册，另外在该文件中还可以给程序添加权限。在清单文件中配置的信息会添加到Android 系统中，当程序运行时，系统会找到清单文件中的配置信息，然后根据配置信息打开相应组件。</p></li><li><p>java<br>用于存放所有的Java代码，在该文件夹中可以创建多个包，每个包中可以存放不同的文件或Activity。</p></li><li><p>res<br>用于存 放Android 程序所用到的资源， 例如图片布局文件、字符串等。<br>drawable 目录用于存放图片及XML文件，<br>layout目录用于存放布局文件，<br>mipmap目录通常用于存放应用程序图标，系统会根据手机屏幕分辨率(hdpi/mdpi/xhdpi/xxhdpi/xxxhdpi)匹配相应大小的图标，<br>values目录用于放置定义的字符串。</p></li><li><p>Gradle Scripts<br>用于存放项目创建的相关文件， 无须修改</p></li></ul><h3 id="2、资源的管理和使用"><a href="#2、资源的管理和使用" class="headerlink" title="2、资源的管理和使用"></a>2、资源的管理和使用</h3><p>res——资源文件</p><h4 id="调用资源文件的两种方式："><a href="#调用资源文件的两种方式：" class="headerlink" title="调用资源文件的两种方式："></a>调用资源文件的两种方式：</h4><p>1、java代码（在Activity中通过gerResources().getDrawable()方法调用图片资源）</p><p><code>getResources().getDrawable(R.mipmap.ic_launcher);   //调用mipmap文件夹中的资源</code></p><p><code>getResources().getDrawable(R.drawable.ic_launcher);    //调用drawable开头的文件夹中的资源</code></p><p>2、在xml布局中调用图片资源</p><p><code>@mipmap/ic_launcher</code></p><p><code>@drawable/icon</code></p><h4 id="主题和样式资源"><a href="#主题和样式资源" class="headerlink" title="主题和样式资源"></a>主题和样式资源</h4><p>1、主题（res/values/style.xml）</p><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>resources<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Base application theme<span class="token punctuation">.</span> <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>style name<span class="token operator">=</span><span class="token string">"AppTheme"</span> parent<span class="token operator">=</span><span class="token string">"Theme.AppCompat.Light.DarkActionBar"</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Customize your theme here<span class="token punctuation">.</span> <span class="token operator">--</span><span class="token operator">></span>        <span class="token operator">&lt;</span>item name<span class="token operator">=</span><span class="token string">"colorPrimary"</span><span class="token operator">></span><span class="token annotation punctuation">@color</span><span class="token operator">/</span>colorPrimary<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">></span>        <span class="token operator">&lt;</span>item name<span class="token operator">=</span><span class="token string">"colorPrimaryDark"</span><span class="token operator">></span><span class="token annotation punctuation">@color</span><span class="token operator">/</span>colorPrimaryDark<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">></span>        <span class="token operator">&lt;</span>item name<span class="token operator">=</span><span class="token string">"colorAccent"</span><span class="token operator">></span><span class="token annotation punctuation">@color</span><span class="token operator">/</span>colorAccent<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>resources<span class="token operator">></span></code></pre><p>&lt; resources &gt;中可以有多个 &lt; style &gt;,可以在AndroidMainifest.xml中通过name=”Apprheme”,去设置主题</p><p><code>&lt;application ...android:theme = "@style/AppTheme"&gt; ...&lt;/application&gt;</code></p><p>在java代码中设置主题</p><p><code>setTheme(R.style.AppTheme)</code></p><p>2.样式（res/values/style.xml）</p><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>style name<span class="token operator">=</span><span class="token string">"textViewSytle"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>item name<span class="token operator">=</span><span class="token string">"android:layout_weight"</span><span class="token operator">></span>20dp<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">></span>    <span class="token operator">&lt;</span>item name<span class="token operator">=</span><span class="token string">"android:layout_height"</span><span class="token operator">></span>20dp<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">></span>    <span class="token operator">&lt;</span>item name<span class="token operator">=</span><span class="token string">"android:background"</span><span class="token operator">></span>#f54e39<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></code></pre><p>在布局文件的View控件中调用</p><p><code>&lt;TextView...style="@style/textViewSytle"/&gt;</code></p><p>3、布局文件（res/layout/activity_main.xml）</p><p>用于搭建各个界面（关于样子的代码都在这里调用）</p><p>4、字符串资源（res/valuse/string.xml）</p><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>resources<span class="token operator">></span>    <span class="token operator">&lt;</span>string name<span class="token operator">=</span><span class="token string">"app_name"</span><span class="token operator">></span>helloworld<span class="token operator">&lt;</span><span class="token operator">/</span>string<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>resources<span class="token operator">></span></code></pre><p>5、颜色资源（res/valuse/colors.xml）</p><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>resources<span class="token operator">></span>    <span class="token operator">&lt;</span>color name<span class="token operator">=</span><span class="token string">"colorPrimary"</span><span class="token operator">></span>#<span class="token number">008577</span><span class="token operator">&lt;</span><span class="token operator">/</span>color<span class="token operator">></span>    <span class="token operator">&lt;</span>color name<span class="token operator">=</span><span class="token string">"colorPrimaryDark"</span><span class="token operator">></span>#00574B<span class="token operator">&lt;</span><span class="token operator">/</span>color<span class="token operator">></span>    <span class="token operator">&lt;</span>color name<span class="token operator">=</span><span class="token string">"colorAccent"</span><span class="token operator">></span>#D81B60<span class="token operator">&lt;</span><span class="token operator">/</span>color<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>resources<span class="token operator">></span></code></pre><p>6、尺寸资源（res/valuse/dimens.xml）在android studio3.2中需要手动创建</p><pre><code>注意：android支持的尺寸单位px:像素dp：设备独立像素，，和px一样，不过可以在不同大小的机器上按比例缩放sp：比例像素，主要处理文字大小in：英寸pt：磅mm：毫米</code></pre><h3 id="3、程序调试"><a href="#3、程序调试" class="headerlink" title="3、程序调试"></a>3、程序调试</h3><p>单元测试和LogCat</p><h4 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h4><p><img src="/images/pasted-46.png"></p><p>1、android单元测试</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span>AndroidJUnit4<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleInstrumentedTest</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// Context of the app under test.</span>        Context appContext <span class="token operator">=</span> InstrumentationRegistry<span class="token punctuation">.</span><span class="token function">getInstrumentation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTargetContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"com.wuyugege.helloworld"</span><span class="token punctuation">,</span> appContext<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>断言包名是否一致，测试成功</p><p><img src="/images/pasted-47.png"></p><p>2、Junit单元测试</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleUnitTest</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addition_isCorrect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="LogCat的使用"><a href="#LogCat的使用" class="headerlink" title="LogCat的使用"></a>LogCat的使用</h4><p>LogCat可以用来查看程序运行日志</p><p>在MainActicity.java中打印Log信息</p><pre><code>protected void onCreate(Bundle savedInstanceState) {    super.onCreate(savedInstanceState);    setContentView(R.layout.activity_main);    Log.v("MainActivity","Verbose");    Log.d("MainActivity","Debug");    Log.i("MainActivity","Info");    Log.w("MainActivity","Warning");    Log.e("MainActivity","Error");    Log.wtf("MainActivity","Assert");}</code></pre><p><img src="/images/pasted-48.png"></p><p><img src="/images/pasted-49.png"></p><p>可以设置过滤内容和搜索内容。</p><h2 id="三、Android常见界面布局"><a href="#三、Android常见界面布局" class="headerlink" title="三、Android常见界面布局"></a>三、Android常见界面布局</h2><h3 id="1、View视图"><a href="#1、View视图" class="headerlink" title="1、View视图"></a>1、View视图</h3><p>每个界面的根元素必须有且仅有一个ViewGroup</p><h3 id="2、界面布局的编写方式"><a href="#2、界面布局的编写方式" class="headerlink" title="2、界面布局的编写方式"></a>2、界面布局的编写方式</h3><h4 id="在xml中编写布局"><a href="#在xml中编写布局" class="headerlink" title="在xml中编写布局"></a>在xml中编写布局</h4><p>布局文件通常放在acticity_main.xml中</p><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">></span><span class="token operator">&lt;</span>LinearLayout xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>TextView        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"wrap_content"</span>        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span>        android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Hello World!"</span>        app<span class="token operator">:</span>layout_constraintBottom_toBottomOf<span class="token operator">=</span><span class="token string">"parent"</span>        app<span class="token operator">:</span>layout_constraintLeft_toLeftOf<span class="token operator">=</span><span class="token string">"parent"</span>        app<span class="token operator">:</span>layout_constraintRight_toRightOf<span class="token operator">=</span><span class="token string">"parent"</span>        app<span class="token operator">:</span>layout_constraintTop_toTopOf<span class="token operator">=</span><span class="token string">"parent"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>LinearLayout<span class="token operator">></span></code></pre><p>上诉代码，定义了一个线性布局LinearLayout ，在该布局中定义了一个TextView控件。其中LinearLayout 继承于ViewGroup，TextView继承自View。</p><h4 id="在java中编写布局"><a href="#在java中编写布局" class="headerlink" title="在java中编写布局"></a>在java中编写布局</h4><p>并不常用，具体是通过new的方式去布局</p><h3 id="3、常见的布局界面"><a href="#3、常见的布局界面" class="headerlink" title="3、常见的布局界面"></a>3、常见的布局界面</h3><ol><li>RelativeLayout（相对布局）</li><li>LinearLayout（线性布局）</li><li>FrameLayout（帧布局）</li><li>TableLayout（表格布局）</li><li>ConstraintLayout（约束布局）</li></ol><p>布局的通用属性：</p><pre><code>android:id :当前布局的唯一标识android:layout_width :布局的宽度   （1）match-parent:宽度与父容器一致 ...android:layout_height :布局的高度   (1) wrap_content:该布局的高度恰好能包裹它的内容android:background="#00000000" :背景颜色android:layout_margin :设置当前布局与屏幕边界、周围布局或空间的距离，各种有各种的属性android:padding :设置当前布局内控件与该布局的距离必须要有长度和宽度，其他属性可以根据需求设置</code></pre><h2 id="四、Android常见界面控件"><a href="#四、Android常见界面控件" class="headerlink" title="四、Android常见界面控件"></a>四、Android常见界面控件</h2><h3 id="1、简单控件的使用"><a href="#1、简单控件的使用" class="headerlink" title="1、简单控件的使用"></a>1、简单控件的使用</h3><h4 id="TextView控件：用于显示文本信息"><a href="#TextView控件：用于显示文本信息" class="headerlink" title="TextView控件：用于显示文本信息"></a>TextView控件：用于显示文本信息</h4><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>TextView        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/edit"</span>        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span>        android<span class="token operator">:</span>layout_margin<span class="token operator">=</span><span class="token string">"5dp"</span>        android<span class="token operator">:</span>gravity<span class="token operator">=</span><span class="token string">"center"</span>        android<span class="token operator">:</span>textSize<span class="token operator">=</span><span class="token string">"34sp"</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>TextView<span class="token operator">></span></code></pre><h4 id="Button控件：表示按钮，既可以显示文本，又可以显示图片，同时允许用户通过点击来执行操作。"><a href="#Button控件：表示按钮，既可以显示文本，又可以显示图片，同时允许用户通过点击来执行操作。" class="headerlink" title="Button控件：表示按钮，既可以显示文本，又可以显示图片，同时允许用户通过点击来执行操作。"></a>Button控件：表示按钮，既可以显示文本，又可以显示图片，同时允许用户通过点击来执行操作。</h4><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>Button            android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/btn1"</span>            android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"0dp"</span>            android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span>            android<span class="token operator">:</span>layout_weight<span class="token operator">=</span><span class="token string">"1"</span>            android<span class="token operator">:</span>background<span class="token operator">=</span><span class="token string">"#00000000"</span>            android<span class="token operator">:</span>onClick<span class="token operator">=</span><span class="token string">"btnNum"</span>            android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"1"</span>            android<span class="token operator">:</span>textSize<span class="token operator">=</span><span class="token string">"28sp"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span></code></pre><p>1、为Button控件设置点击事件的方式</p><p>主要有以下三种方式：</p><p>（1）<code>android:onClick="btnNum"</code></p><p>然后在MainActivity中定义btnNum方法</p><p><code>public void btnNum(View view)</code></p><p>（2）匿名内部类，直接在onCreate()中使用</p><pre class=" language-java"><code class="language-java">btn <span class="token operator">=</span><span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//将变量和控件绑定</span>btn<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">//匿名内部类</span>    <span class="token annotation punctuation">@Override</span>        pubilc <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span><span class="token punctuation">{</span>      btn<span class="token punctuation">.</span><span class="token function">serText</span><span class="token punctuation">(</span><span class="token string">"..."</span><span class="token punctuation">)</span>          <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>(3)实现OnClickListener接口</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span> <span class="token function">OnCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    btn<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//打开监听事件</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span>        pubilc <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span>View view<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">//点击实现</span> <span class="token punctuation">}</span></code></pre><h4 id="EditText控件：编辑框"><a href="#EditText控件：编辑框" class="headerlink" title="EditText控件：编辑框"></a>EditText控件：编辑框</h4><h4 id="ImageView：图片"><a href="#ImageView：图片" class="headerlink" title="ImageView：图片"></a>ImageView：图片</h4><h4 id="RedionButton：单选按钮"><a href="#RedionButton：单选按钮" class="headerlink" title="RedionButton：单选按钮"></a>RedionButton：单选按钮</h4><h4 id="CheckBox：复选框"><a href="#CheckBox：复选框" class="headerlink" title="CheckBox：复选框"></a>CheckBox：复选框</h4><h4 id="Toast：轻量级信息提醒机制"><a href="#Toast：轻量级信息提醒机制" class="headerlink" title="Toast：轻量级信息提醒机制"></a>Toast：轻量级信息提醒机制</h4><p>…</p><h3 id="2、AlertDialog对话框的使用"><a href="#2、AlertDialog对话框的使用" class="headerlink" title="2、AlertDialog对话框的使用"></a>2、AlertDialog对话框的使用</h3><p>使用AlertDialog创建的对话框一般包含标题，内容和按钮三个区域</p><h4 id="普通对话框"><a href="#普通对话框" class="headerlink" title="普通对话框"></a>普通对话框</h4><p><img src="/images/pasted-50.png"></p><pre><code>/** * 重写onBackPressed()来监听回退键 */public void onBackPressed(){    //申明对象    AlertDialog dialog;    AlertDialog.Builder builder = new AlertDialog.Builder(this)            .setTitle("普通对话框")            .setIcon(R.mipmap.ic_launcher)            .setMessage("是否确定退出应用：")            //添加"确定"按钮            .setPositiveButton("确定", new DialogInterface.OnClickListener() {                @Override                public void onClick(DialogInterface dialog, int which) {                    dialog.dismiss();  //关闭对话框                    MainActivity.this.finish();  //关闭MainActivity                }            })            //添加"取消"按钮            .setNegativeButton("取消", new DialogInterface.OnClickListener() {                @Override                public void onClick(DialogInterface dialog, int which) {                    dialog.dismiss();                }            });    dialog = builder.create();    dialog.show();}</code></pre><h4 id="单选对话框"><a href="#单选对话框" class="headerlink" title="单选对话框"></a>单选对话框</h4><pre class=" language-java"><code class="language-java"> AlertDialog<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">.</span><span class="token function">setSingleChoiceItems</span><span class="token punctuation">(</span>CharSequence<span class="token punctuation">[</span><span class="token punctuation">]</span> items<span class="token punctuation">,</span><span class="token keyword">int</span> checkedItem<span class="token punctuation">,</span>OnClickListener listener<span class="token punctuation">)</span></code></pre><h4 id="多选对话框"><a href="#多选对话框" class="headerlink" title="多选对话框"></a>多选对话框</h4><pre class=" language-java"><code class="language-java"> AlertDialog<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">.</span><span class="token function">setMultiChoiceItems</span><span class="token punctuation">(</span>CharSequence<span class="token punctuation">[</span><span class="token punctuation">]</span> items<span class="token punctuation">,</span><span class="token keyword">int</span> checkedItem<span class="token punctuation">,</span>OnClickListener listener<span class="token punctuation">)</span></code></pre><h4 id="自定义对话框-android小案例"><a href="#自定义对话框-android小案例" class="headerlink" title="自定义对话框(android小案例)"></a>自定义对话框(android小案例)</h4><p>…</p><h3 id="3、LsitView"><a href="#3、LsitView" class="headerlink" title="3、LsitView"></a>3、LsitView</h3><h4 id="1、ListView控件的使用："><a href="#1、ListView控件的使用：" class="headerlink" title="1、ListView控件的使用："></a>1、ListView控件的使用：</h4><pre class=" language-xml"><code class="language-xml">&lt;ListView  android:id="@+id/lv" ... android:listSelector=".."       <span class="token comment" spellcheck="true">&lt;!--当条目被点击后，改变条目的背景颜色--></span> android:divider=".."            <span class="token comment" spellcheck="true">&lt;!--分割线的颜色--></span> android:dividerHeight=".."      <span class="token comment" spellcheck="true">&lt;!--分割线的高度--></span> android:scrollbars=".."         <span class="token comment" spellcheck="true">&lt;!--是否显示滚动条--></span> android:fadingEdge=".."         <span class="token comment" spellcheck="true">&lt;!--去掉上边和下边的黑色阴影--></span> /></code></pre><h4 id="2、常用的数据适配器"><a href="#2、常用的数据适配器" class="headerlink" title="2、常用的数据适配器"></a>2、常用的数据适配器</h4><p>在为ListView添加数据时会用到数据适配器。</p><ol><li>BaseAdapter</li><li>SimpleAdapter</li><li>ArryAdapter</li></ol><p>具体使用：将数据装入适配器，在将适配器放入listView</p><h3 id="4、RecylerView的使用（android小案例）"><a href="#4、RecylerView的使用（android小案例）" class="headerlink" title="4、RecylerView的使用（android小案例）"></a>4、RecylerView的使用（android小案例）</h3><p>与ListView相似，但功能更加强大</p><h3 id="5、自定义View"><a href="#5、自定义View" class="headerlink" title="5、自定义View"></a>5、自定义View</h3><p>自定义类继承View</p><h2 id="五、程序活动单元Activity"><a href="#五、程序活动单元Activity" class="headerlink" title="五、程序活动单元Activity"></a>五、程序活动单元Activity</h2><p>Android中的四大组件分别是Activity（活动），Service，ContentProvider和BroadcastReceiver。</p><h3 id="1、Activity的生命周期"><a href="#1、Activity的生命周期" class="headerlink" title="1、Activity的生命周期"></a>1、Activity的生命周期</h3><h4 id="1、生命周期状态"><a href="#1、生命周期状态" class="headerlink" title="1、生命周期状态"></a>1、生命周期状态</h4><ul><li>启动状态</li><li>运行状态</li><li>暂停状态</li><li>停止状态</li><li>销毁状态</li></ul><p>2、生命周期的方法</p><ul><li>onCreat():Activity创建的时候被调用，通常做一些初始化工作</li><li>onStart():Activity即将可见时调用</li><li>onResume():Activity获取焦点时调用</li><li>onPause():当前Activity被其他Activity覆盖或屏幕锁定时调用</li><li>onStop():Activity对用户不可见时调用</li><li>onDestroy():Activity销毁时调用</li><li>onRestart():Activity从停止到重新启动时调用</li></ul><p><strong>注意</strong>：横竖屏切换时的生命周期</p><p>   从竖屏到横屏转换时，会首先调用onDestroy()销毁Activity，在重新创建，所以用户在界面输入的信息在横竖屏切换时会被清除。</p><p>   如果不希望在横竖屏切换时Activity被销毁重建，可以通过configChanges属性进行设置：</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.MainActivity<span class="token punctuation">"</span></span>            <span class="token attr-name"><span class="token namespace">android:</span>configChanges</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>orientation|keyboardHidden<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p>  如果希望某个页面保持竖屏或横屏，可以在清单文件中通过设置Activity的screenOrientation属性完成：</p><pre class=" language-xml"><code class="language-xml">竖屏：android:screenOrientation="portrait"横屏：android:screenOrientation="landscape"</code></pre><h3 id="2、Activity的创建、配置、开启和关闭"><a href="#2、Activity的创建、配置、开启和关闭" class="headerlink" title="2、Activity的创建、配置、开启和关闭"></a>2、Activity的创建、配置、开启和关闭</h3><h3 id="3、Intent与IntentFilter"><a href="#3、Intent与IntentFilter" class="headerlink" title="3、Intent与IntentFilter"></a>3、Intent与IntentFilter</h3><p>Intent:意图，程序中各组件进行交互的一种重要方式，它不仅可以指定当前组件要执行的动作，还可以在不同组件之间进行数据传递</p><p>Intent被分为两种类型：</p><ol><li><p>显示Intent：直接指定目标组件，例如使用Intent显示指定要跳转的Activity</p><p><code>Intent intent = new Intent(this,SecondActivity.class)</code></p></li><li><p>隐式Intent：隐式Intent不会明确指出需要激活的组件，被广泛运用在不同应用程序之间传递消息。android系统会使用InterFilter匹配相应的组件，匹配的属性有：</p><ul><li>action：表示intent对象要完成的动作</li><li>data：传递的数据</li><li>category：为activity添加额外的信息</li></ul></li></ol><p>IntentFilter三个属性都有各自的匹配规则，在清单文件中配置。</p><h3 id="4、Activity之间的跳转"><a href="#4、Activity之间的跳转" class="headerlink" title="4、Activity之间的跳转"></a>4、Activity之间的跳转</h3><p>1、使用Intent的putExtra()方法传递数据：   Extra（额外的）</p><pre class=" language-java"><code class="language-java">Intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>intent<span class="token punctuation">.</span><span class="token function">setClass</span><span class="token punctuation">(</span>MainActivity<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span>SecondActivity<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"小猫"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">"isboy"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>；<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span></code></pre><p>此时，在SecondActivity中通过getXxxExtra()方法来获取传递过来的数据：</p><pre class=" language-java"><code class="language-java">Intent intent <span class="token operator">=</span> <span class="token function">getIntent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>String name <span class="token operator">=</span> intent<span class="token punctuation">.</span><span class="token function">getStringExtra</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> age <span class="token operator">=</span> intent<span class="token punctuation">.</span><span class="token function">getIntExtra</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">boolean</span> isboy <span class="token operator">=</span> intent<span class="token punctuation">.</span><span class="token function">getBooleanExtra</span><span class="token punctuation">(</span><span class="token string">"isboy"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>2、使用Bundle（束，捆）类传递数据</p><p>与Map类似，将数据先放入Bundle，在将Bundle放入putExtra中。</p><h4 id="Activity之间的数据回传-三个方法-："><a href="#Activity之间的数据回传-三个方法-：" class="headerlink" title="Activity之间的数据回传(三个方法)："></a>Activity之间的数据回传(三个方法)：</h4><ul><li>startActivityForResult():开启</li><li>setResult()：回传</li><li>onActivityResult()：接收</li></ul><h3 id="5、Activity的任务栈和启动模式"><a href="#5、Activity的任务栈和启动模式" class="headerlink" title="5、Activity的任务栈和启动模式"></a>5、Activity的任务栈和启动模式</h3><p>Android中的任务栈：先进后出</p><p>启动模式：</p><ol><li>standard模式：默认，每启动一个activity就会在栈顶创建一个新实例</li><li>singleTop模式：在栈顶的activity直接复用</li><li>singleTask模式：整个栈中只有一个实例，有则复用，在栈底的实例会先弹出前面的实例在复用</li><li>singleInstance模式：会启动一个新的任务栈爱管理Activity，无论在哪个任务栈中启动Activity，该实例在整个系统中只有一个</li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>华门月宫悲愁影，尽写一夜长恨歌</title>
      <link href="2020/10/16/xiao-wang/"/>
      <url>2020/10/16/xiao-wang/</url>
      
        <content type="html"><![CDATA[<p>苍狼：孤掌中，握刀誓斩！<br>北竞王：三十年的谨慎，仍不敌一刻间的松懈，周遭的护卫，都被你这个王府的侍长遣走了吧？<br>苍狼：何必多此一问！<br>北竞王：孤王的小苍狼学坏了，这一击，好狠啊！<br>苍狼：是你教我，人必须比狼更残忍！<br>北竞王：好，那就让祖王叔见识，蜕变之后的狼！可以何等的残忍？<br>苍狼：竞日孤鸣，你该死！喝——<br>北竞王：喝啊——<br>[人心，狼心，仇恨之心，血腥的王座，唯有用血，一洗征途！]<br>苍狼：星辰变·苍河星转！<br>北竞王：轮回劫·破乾坤！<br>苍狼：虚空灭·狼王印！喝——<br>[镇国神功再度交锋，苍狼气走全身，运使体内雄浑内劲，双拳攻势霸然而开！然而北竞王虽是重伤在身，攻守之间，仍是不失优雅，尽显王者风范！]<br>北竞王：你承接了撼天阙的宝典根基，原来这就是三修的秘诀……（被击中）啊！<br>苍狼：霸王殛——<br>北竞王：啊——（被打退）<br>苍狼：喝啊——（欲乘胜追击，却被狼王爪挡下）啊，这是——<br>北竞王：任何凶残的狼，都必须向它俯首称臣的狼王爪。喝——<br>苍狼：嗯？<br>北竞王：（伤口不断渗血）呃啊……这样……还不能让小王服输！<br>苍狼：喝——杀！<br>北竞王：喝啊——<br>苍狼：（攻击被狼王爪化解）啊，怎会？<br>[狼王爪扭转战局，纵然苍狼身上有撼天阙上乘根基，但在狼王爪面前，攻势全然失效！]<br>北竞王：轮回穷劫——<br>苍狼：虚空尽灭·君临天下——<br>北竞王：——碎苍穹！<br>苍狼：啊——（负伤飞出）<br>北竞王：小苍狼，这样还不够啊！（捂住不断渗血的伤口）<br>苍狼：（擦去脸上血迹）竞日孤鸣！我……我不能放弃！绝对不能放弃！（挣扎爬起）<br>北竞王：恨我吗，小苍狼？你恨……孤王吗？<br>苍狼：你说呢，祖王叔——？！<br>北竞王：哈哈哈，来，为贺你的成长，孤王，不用计谋，不使心策，交予天命，你我两人，最后一搏！<br>苍狼：天若是有眼，岂会走到今日？！何谓天命？不屈于天所安排的命运，为之天命啦——！皇世经天——<br>北竞王：轮回穷劫——<br>[昔日把酒同欢的所在，而今却是死诀之地，同样的两人，不同的心境，拨弄命运的，是人为，或者天定？]<br>苍狼：虚空尽灭——喝！<br>（苍狼回忆起撼天阙的教导：<br>撼天阙：皇世经天宝典，异途同宗，一化为三，相生相克，相生于体，互彼制衡，三合归一。）<br>北竞王：——众生灭！<br>[极招相对之刻，苍狼忽收攻势，尽受轮回劫之力！]<br>苍狼：啊！（负伤呕血）喝——<br>北竞王：啊，这……<br>苍狼：喝啊！（反扣住狼王爪，吸收所承攻击）<br>北竞王：这是……<br>苍狼：相生于体，互彼制衡，三合归一！我用自己的身体，承受你最大的攻击。<br>[狼王爪竟成媒介，吸收轮回劫之力！]<br>苍狼：这种必死的决心，你能了解吗？！<br>北竞王：&lt;狼王爪成了内力流转的重要媒介，孤王若不脱手，这……&gt;（褪下狼王爪，随即被攻击震飞）<br>苍狼：皇世经天·星辰极变·破空千狼影——！（提刀上手刺向北竞王颈侧）<br>北竞王：哈，这刀，偏了……<br>苍狼：你该忏悔，在代表太祖的狼王爪之前忏悔！<br>北竞王：天啊，你就这么不想，让孤王成王吗？<br>苍狼：你的王冠上，刻印着虚伪；你的王位上，流着血泪；记载你的历史，也已经写下篡逆残暴四字！<br>北竞王：哈哈哈哈，这些评语，只因，孤王败了。<br>苍狼：我该杀你，因为你，造就了苗疆内乱！因为你，血亲相残！因为你，生灵涂炭！全部都是因为你啊——<br>北竞王：动手吧。今至如此，何必多说，何必迟疑呢？成长的狼。<br>（苍狼举刀欲处决北竞王，突然想起忘今焉和撼天阙的话：<br>忘今焉：天下苍生与私仇，谁轻谁重，这个答案，早已了然啊。<br>撼天阙：你的根基不够，记住七天后，虚空灭的内劲，便会反噬你体内的星辰变。）<br>苍狼：我想杀你，我真的想杀你……<br>北竞王：小苍狼啊，你是不忍心，还是下不了手？<br>（苍狼想起父亲、藏镜人、千雪、王族亲卫死前惨状）<br>苍狼：喝啊——！（刀锋一转，气劲划向周遭景物，断木裂石）<br>苍狼：（沉吟许久，语带不甘）我知道我比不上你，我永远也比不上你！但我不愿，让自己变成你！<br>北竞王：苍狼……？<br>苍狼：（转身走远）善待苗疆的子民，疼惜他们，保护他们……<br>北竞王：苍越孤鸣，仍是不改……天真……喝啊！（一掌打在苍狼背后）<br>苍狼：竞日孤鸣，你做什么？<br>北竞王：孤王的小苍狼，你还是永远的天真。喝啊——（传功苍狼身上）你可知，孤王开放防线以显薄弱，不只是为了对抗魔世先做准备，但孤王仍算错一著，行刺的人，竟然不是最后一名王族亲卫。<br>苍狼：要杀你……我怎可能让他人帮手！<br>北竞王：孤王的小苍狼确实成长了，如此快速的逆袭，将赌注压在孤王绝不可能的松懈之心。但是，孤王是真正松懈了，在得到一切之后，在见到你没死之后，在失去了自己之后。孤王确实陷入了美好的回忆之中。<br>（忆起往昔共饮赏月）<br>北竞王：哈，小苍狼，不论你是何原因没杀孤王，孤王也收不下，你所赐予的仁慈悲怜！（轮回劫功体尽数传给苍狼）<br>苍狼：竞……竞日孤鸣，你为什么要这样做？<br>北竞王：三十年了，到了今天，我仍不知我的面具是否已经摘下，是否摘得下……得到了三十年所等待的结果，却失去了三十年来曾经与共的一切。这是否值得？这盘棋的下一子，又该如何落？小王，迟疑了。<br>苍狼：你……<br>北竞王：小王擅长等待，想不到等到最后一刻。小王要等待的那个自己，却不是吾要等待的自己啊，哈哈哈……乖苍狼，小王将轮回劫全数功力传给你，你将成为太祖之后，第一个真正练成三部宝典武学的王族传人，以卫苗疆强悍。<br>苍狼：啊——！<br>[三部宝典汇聚，化消苍狼体内真气冲突，融合成一股沛不可当的浑厚内力。]<br>北竞王：喝啊——<br>苍狼：我的身体……啊！<br>北竞王：啊！（被功体反弹出数米，不支倒地，伤口仍不断渗血）<br>（金池到来，拾起地上皮草外套）<br>姚金池：王爷！<br>北竞王：（接过外套穿上）叛逆，竞日孤鸣，已经伏诛。（蹒跚离开）金池，这花园……还能恢复吗？<br>姚金池：金池……会尽力。<br>北竞王：嗯……劳烦你。<br>苍狼：祖……<br>姚金池：竞王爷……<br>北竞王：贺苗王苍越孤鸣……登……基。（裹紧外套离去）<br>[北龙归去没苍穹，长眠银川卧星河。华门月宫悲愁影，尽写一夜长恨歌。]</p><p><img src="/images/pasted-44.png"></p>]]></content>
      
      
      <categories>
          
          <category> 布袋戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小王 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在Github上搭服务器</title>
      <link href="2020/10/15/zai-github-shang-da-fu-wu-qi/"/>
      <url>2020/10/15/zai-github-shang-da-fu-wu-qi/</url>
      
        <content type="html"><![CDATA[<p>1、进入hexo官方文档<br>（在window是上已经安装好hexo,如何安装参考另一篇文档）</p><p><img src="/images/pasted-33.png" alt="upload successful"><br>2、在hexo的根目录下安装插件</p><p><img src="/images/pasted-34.png" alt="upload successful"><br>3.在配置文件_config.yml中配置</p><p><img src="/images/pasted-35.png" alt="upload successful"><br>4.repo是你github创库的地址</p><p><img src="/images/pasted-36.png" alt="upload successful"><br>5.打开终端，并hexo g &amp;&amp; hexo d 如出现</p><p><img src="/images/pasted-37.png" alt="upload successful"><br> 先运行这两个命令，去设置你的github的邮箱和名字<br>6、在hexo d，就会去连接你的github</p><p><img src="/images/pasted-38.png" alt="upload successful"><br>7.就会把你hexo文件部署到github上</p><p><img src="/images/pasted-39.png" alt="upload successful"><br>8、如果你没有域名，就用你的仓库名访问。<br>   如果你有域名（上一篇有介绍购买域名），就去域名解析</p><p><img src="/images/pasted-40.png" alt="upload successful"><br>9、然后再github上绑定你购买的域名</p><p><img src="/images/pasted-41.png" alt="upload successful"><br>10、在hexo根目录的source下创建CNAME。</p><p><img src="/images/pasted-42.png" alt="upload successful"><br>11、在重新部署hexo g &amp;&amp; hexo d</p><p>12、换主题的话，具体主题参考具体主题的文档</p><p><a href="https://github.com/search?q=hexo-theme">https://github.com/search?q=hexo-theme</a></p><p>我选择的是</p><p><img src="/images/pasted-43.png" alt="upload successful"><br>里面有详细的中文文档。</p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 搭建博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在云服务器上搭建博客</title>
      <link href="2020/10/14/zai-yun-fu-wu-qi-shang-da-jian-bo-ke/"/>
      <url>2020/10/14/zai-yun-fu-wu-qi-shang-da-jian-bo-ke/</url>
      
        <content type="html"><![CDATA[<h1 id="搭建个人博客"><a href="#搭建个人博客" class="headerlink" title="搭建个人博客"></a>搭建个人博客</h1><h2 id="一-注册域名"><a href="#一-注册域名" class="headerlink" title="一.注册域名"></a>一.注册域名</h2><p>我选择的是阿里云（还有其他的腾讯云，百度云，华为云），记得申请账号</p><p><img src="/images/pasted-7.png" alt="upload successful"></p><p>查询你要注册的域名：</p><p><img src="/images/pasted-8.png" alt="upload successful"></p><p>选好域名，点击结算：<br><img src="/images/pasted-9.png" alt="upload successful"></p><p>新用户记得创建模板。</p><p><img src="/images/pasted-10.png" alt="upload successful"></p><p>优惠口令，如果有其他折扣的话，这个并没有什么用。</p><p>最后点击立即购买就好。</p><p>域名购买成功之后，还需进入控制台，找到刚刚购买的域名进行实名认证：</p><p>或者</p><p><img src="/images/pasted-11.png" alt="upload successful"></p><p>进入到域名控制台</p><p><img src="/images/pasted-12.png" alt="upload successful"></p><p>点击管理，查看是否认证成功（认证操作可能会在你购买域名时认证），认证成功后，两三天过后要进行备案，域名才可以使用。</p><p><img src="/images/pasted-13.png" alt="upload successful"></p><h2 id="二，购买服务器（主机）"><a href="#二，购买服务器（主机）" class="headerlink" title="二，购买服务器（主机）"></a>二，购买服务器（主机）</h2><p>老地方</p><p><img src="/images/pasted-15.png" alt="upload successful"></p><p>我反正选的是这个，有很多计划可以免费使用，也可以打折，这个你自己多看看。</p><p><img src="/images/pasted-16.png" alt="upload successful"><br>根据自己的需要选择操作系统（我用的是ubuntu）</p><p><img src="/images/pasted-17.png" alt="upload successful"></p><p>之后购买就可以。</p><h2 id="三、域名备案"><a href="#三、域名备案" class="headerlink" title="三、域名备案"></a>三、域名备案</h2><p>现在域名是用不了的，你在浏览器输入域名，需要你</p><p><img src="/images/pasted-18.png" alt="upload successful"></p><p>点击进入备案管理平台（我现在还没备案）</p><p><img src="/images/pasted-19.png" alt="upload successful"></p><p>按步骤填完</p><p><img src="/images/pasted-20.png" alt="upload successful"></p><p>填到这里，就要等了。（这个之后等我通过了再说）</p><p><img src="/images/pasted-21.png" alt="upload successful"></p><h2 id="四、连接服务器"><a href="#四、连接服务器" class="headerlink" title="四、连接服务器"></a>四、连接服务器</h2><p>有两种方式：（记得西安设置密码，设置完记得重启，实例状态里重启）</p><p><img src="/images/pasted-22.png" alt="upload successful"></p><h3 id="方式一：在购买网站的管理控制台连接服务器（使用概率小，不推荐）"><a href="#方式一：在购买网站的管理控制台连接服务器（使用概率小，不推荐）" class="headerlink" title="方式一：在购买网站的管理控制台连接服务器（使用概率小，不推荐）"></a>方式一：在购买网站的管理控制台连接服务器（使用概率小，不推荐）</h3><p><img src="/images/pasted-23.png" alt="upload successful"></p><h3 id="方式二：使用Xshell软件"><a href="#方式二：使用Xshell软件" class="headerlink" title="方式二：使用Xshell软件"></a>方式二：使用Xshell软件</h3><p>去官网下载（选家庭和学生用，这个不要钱）</p><p><a href="https://www.netsarang.com/products/xsh_overview.html%EF%BC%88%E5%AE%98%E7%BD%91%EF%BC%89">https://www.netsarang.com/products/xsh_overview.html（官网）</a></p><p>推荐把Xftp也下上，文件操作全靠它。</p><h4 id="使用XShell"><a href="#使用XShell" class="headerlink" title="使用XShell"></a>使用XShell</h4><p><img src="/images/pasted-24.png" alt="upload successful"></p><p>（主机是服务器的公网IP）</p><h4 id="用户身份验证"><a href="#用户身份验证" class="headerlink" title="用户身份验证"></a>用户身份验证</h4><p><img src="/images/pasted-25.png" alt="upload successful"></p><p>点击连接，连接成功就可以用Xshell去操作服务器了</p><p><img src="/images/pasted-26.png" alt="upload successful"></p><h2 id="五、域名解析"><a href="#五、域名解析" class="headerlink" title="五、域名解析"></a>五、域名解析</h2><p> 这个就是将你的域名和服务器连接起来，所以前面的东西要都有</p><p>在设置域名解析前，您需要准备好域名、网站。具体包括：</p><ul><li>拥有一个域名。</li><li>已经准备好服务器空间</li><li>已完成网站备案。</li><li>获取主机 IP 地址（就是短信里的公网IP，之后的操作都是公网IP，不是私网）</li></ul><h3 id="设置域名解析"><a href="#设置域名解析" class="headerlink" title="设置域名解析"></a>设置域名解析</h3><p><img src="/images/pasted-27.png" alt="upload successful"></p><p>添加记录</p><p><img src="/images/pasted-28.png" alt="upload successful"></p><p><img src="/images/pasted-29.png" alt="upload successful"></p><p>点击确定，就好了。</p><h2 id="六、环境搭建"><a href="#六、环境搭建" class="headerlink" title="六、环境搭建"></a>六、环境搭建</h2><p>给你的主机安装各种配置</p><p>用Xshell连接你的服务器</p><p>安装Nodejs（我选择的是手动安装，因为我在网上找的各种命令都不咋对，最后就直接在官网（nodejs.org）上下载了压缩包）</p><p>选择版本，下载到本地，通过Xftp传的服务器上，记得先选择好安装的文件夹。</p><p>将压缩包放在了 /usr/local/app(自己创建的)/nodejs下</p><p>然后cd到文件夹</p><p><code>tar xvf node-v9.5.0-linux-x64.tar.xz</code></p><p>解压就好</p><p>然后配置环境变量</p><p><code>vim /etc/profile</code></p><p>在底部添加</p><p><code>export NODE_HOME=/opt/nodejs/node-v11.1.0-linux-x64/bin</code></p><p><code>export PATH=$NODE_HOME:$PATH</code></p><p>激活修改</p><p><code>source /etc/profile</code></p><p>验证</p><p><code>node -v</code></p><p><code>npm -v</code></p><p>成功的话，就会显示版本号</p><p>Nodejs安装完后，还要安装git</p><p>Ubuntu下的命令是：<code>sudo apt-get install git-core</code></p><p><code>git -version</code> #查看版本号</p><h2 id="七、安装博客Hexo"><a href="#七、安装博客Hexo" class="headerlink" title="七、安装博客Hexo"></a>七、安装博客Hexo</h2><p>先更换你的npm源</p><p><code>npm config set registry https://registry.npm.taobao.org</code></p><p>开始安装Hexo</p><p><code>npm install -g hexo-cli</code></p><h3 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h3><p>安装 <code>Hexo</code> 完成后，请执行下列命令，<code>Hexo</code> 将会在指定文件夹中新建所需要的文件。</p><pre><code>$ hexo init &lt;folder&gt;$ cd &lt;folder&gt;</code></pre><p><folder>,是你自己创建的文件夹（在哪使用Hexo），比如：/home/ubuntu/hexo/blog</folder></p><p>初始化完成后，你的blog文件里就有</p><p><img src="/images/pasted-30.png" alt="upload successful"></p><p>详细说明如下：</p><blockquote><ol><li><code>_config.yml</code> 是 YAML 格式文件，也是 Hexo 的站点 <strong>重要配置文件</strong> ，以后很多的自定义配置都要修改这个文件。</li><li>package.json 配置 Hexo 运行需要的 Node.js 包，不用手动更改。</li><li>scaffolds 是模板文件夹。这个“模板”就是指新建的 markdown 文件的模板，每新建一个 markdown 文件（由于 Hexo 使用 markdown 语法，在渲染生成静态 HTML 页面之前，源文件都是 markdown 文件），就会包含对应模板的内容。<br>该文件夹内有三个模板：</li></ol><ul><li>draft.md — 草稿的模板</li><li>page.md — 页面的模板</li><li>post.md — 文章的模板</li></ul><ol><li>source 是资源文件夹，资源文件夹是存放用户资源的地方。除 posts 文件夹之外，开头命名为 (下划线)的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 public 文件夹，而其他文件会被拷贝过去。</li><li>themes 是主题文件夹。Hexo 会根据主题来生成静态页面。</li></ol></blockquote><h3 id="初次使用"><a href="#初次使用" class="headerlink" title="初次使用"></a>初次使用</h3><p>hexo g</p><p>hexo s</p><p>默认情况下，端口号为 4000，所以服务器启动成功后，在浏览器中输入 <code>http://&lt;你的IP地址&gt;:4000</code> ，即可看到第一次运行的状况。</p><p><strong>注意！</strong></p><p>如果运行时没有报任何错误，但是浏览器中显示网页无法访问，可能是你的服务器安全组没有配置，像腾讯云或者阿里云都需要配置端口安全组策略，请先去设置 4000 端口开放形式，再运行 Hexo 服务。</p><p><img src="/images/pasted-31.png" alt="upload successful"></p><p><img src="/images/pasted-32.png" alt="upload successful"></p><p>(先把这几个端口配上)</p><p>之后，你就可以通过ip：4000/ 域名：4000 访问博客了</p><h2 id="八、安装并配置Nginx"><a href="#八、安装并配置Nginx" class="headerlink" title="八、安装并配置Nginx"></a>八、安装并配置Nginx</h2><p>之前访问都是ip+端口的形式，要只通过地址，不要端口的话，就要Nginx反向代理了</p><h3 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h3><p><code>$ sudo apt install nginx</code></p><h3 id="启动Nginx服务"><a href="#启动Nginx服务" class="headerlink" title="启动Nginx服务"></a>启动Nginx服务</h3><p><code>$ sudo systemctl start nginx</code></p><p>此时，用浏览器访问 <code>http://&lt;你的IP地址&gt;</code> 便可以看到 <code>Nginx</code> 的测试页面，即表示 <code>Nginx</code> 启动成功！</p><p>继续输入以下命令使 <code>Nginx</code> 开机自动启动：</p><p><code>$ systemctl enable nginx</code></p><h3 id="配置访问路径"><a href="#配置访问路径" class="headerlink" title="配置访问路径"></a>配置访问路径</h3><p>打开 <code>Nginx</code> 的默认配置文件 <code>/etc/nginx/nginx.conf</code><br>在<code>http{</code></p><p><code>...</code></p><p>  <code>server {</code><br>                 <code>listen       80;</code><br>                 <code>server_name  121.196.181.48;</code><br>                 <code>#charset koi8-r;</code><br>                 <code>#access_log  logs/host.access.log  main;</code><br>                 <code>location / {</code><br>                 <code>root   &lt;folder&gt;/public;</code><br>                 <code>index  index.html;</code><br>        <code>}</code></p><p><code>...</code></p><p>}</p><p><folder>是你放hexo的路径</folder></p><p>修改完成后保存，输入以下命令重启 <code>Nginx</code>：</p><pre><code>$ nginx -s reload</code></pre><p>此时再次访问你的 IP 地址，若显示上文的 <code>Hexo</code> 初次运行的样子，则说明配置成功。</p><p><strong>注意！</strong></p><p>可能会报 403 错误，原因是 Nginx 没有权限访问 public文件夹，修改方法有两种： </p><p>1：修改 public 文件夹的权限，修改为 777（即任何人可读可写可执行），不推荐； </p><p>2：修改 nginx.conf 中的 user（可能在第5行），改为可以访问 public文件夹的用户，如 root。</p><h2 id="九、配置Hexo"><a href="#九、配置Hexo" class="headerlink" title="九、配置Hexo"></a>九、配置Hexo</h2><h2 id="十、加入主题"><a href="#十、加入主题" class="headerlink" title="十、加入主题"></a>十、加入主题</h2>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 搭建博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>朋友，你好</title>
      <link href="2020/10/13/peng-you-ni-hao-1/"/>
      <url>2020/10/13/peng-you-ni-hao-1/</url>
      
        <content type="html"><![CDATA[<p>现代人的崩溃是一种很安静的崩溃</p><p>看起来很正常</p><p>会说笑、会打闹、会社交，</p><p>表面平静</p><p>实际上心里已经糟糕到一定程度了</p><p>但你不会骂人</p><p>不会砸东西</p><p>更不会哭</p><p>即使某一秒突然累积到极限了</p><p>你也只是不说话，不会真的崩溃</p><p>就是不太想活</p><p>也不敢去死</p><p><img src="/images/pasted-6.png" alt="upload successful"></p>]]></content>
      
      
      <categories>
          
          <category> 文案 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 朋友你好 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2020/10/12/hello-world/"/>
      <url>2020/10/12/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
